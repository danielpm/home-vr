<html xmlns="http://www.w3.org/1999/xhtml"><head>
    <title>Express</title>
    <link rel="stylesheet" href="/stylesheets/style.css" />
  </head>
  <body class="a-body ">
    
  
    <script src="https://aframe.io/releases/0.6.1/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-animation-component@3.2.1/dist/aframe-animation-component.min.js"></script>
    <script src="https://unpkg.com/aframe-particle-system-component@1.0.x/dist/aframe-particle-system-component.min.js"></script>
    <script src="https://unpkg.com/aframe-extras.ocean@%5E3.5.x/dist/aframe-extras.ocean.min.js"></script>
    <script src="https://unpkg.com/aframe-gradient-sky@1.0.4/dist/gradientsky.min.js"></script>
    <script>
      AFRAME.registerComponent('has-action', {
        schema: {
          color: { default: 'yellow' }
        },
        init: function () {
          var data = this.data;
          var el = this.el;
          var defaultColor = el.getAttribute('material').color;

          el.addEventListener('mouseenter', function () {
            el.setAttribute('color', data.color);
          });

          el.addEventListener('mouseleave', function () {
            el.setAttribute('color', defaultColor);
          });
        }
      });

      AFRAME.registerComponent('open-door', {
        schema: {
          previous: { default: null }
        },

        init: function () {
          var data = this.data;
          var el = this.el;

          data.previous = el.getAttribute('position');

          el.addEventListener('click', function () {
            if (el.getAttribute('isopen') == 'true' && data.previous) {
              el.setAttribute('position', data.previous);
              el.setAttribute('rotation', {x: 0, y: 0, z: 0});
              el.setAttribute('isopen', 'false')
            }
            else {
              var pos = el.getAttribute('position');
              var width = parseFloat(el.getAttribute('width'));

              data.previous = pos;

              el.setAttribute('position', {x: pos.x + (width/2), y: pos.y, z: pos.z - (width/2) });
              el.setAttribute('rotation', {x: 0, y: 90, z: 0});
              el.setAttribute('isopen', 'true')
            }
          });
        }
      });
    </script>
  
  
    <a-scene class="fullscreen" canvas="" inspector="" keyboard-shortcuts="" screenshot="" vr-mode-ui="">
      
      <a-camera><a-cursor></a-cursor></a-camera>

      <a-entity id="sky" geometry="primitive:sphere;radius:5000" material="shader:gradient;topColor:0 0 0;bottomColor:185 185 210" scale="-1 1 1"></a-entity>

      <!-- Frente -->
      <a-box color="yellow" depth="1" height="2" width="1" wireframe="false" position="0 1 -10" material="" geometry=""></a-box>

      <!-- ChÃ£o Cozinha -->
      <a-plane color="#CCC" height="6.22" width="2.66" rotation="-90 0 0" material="" geometry=""></a-plane>

      <!-- Portico Pilar -->
      <a-entity position="-1.43 0 -1.26">
        <a-box color="#BBB" width="0.2" height="2" depth="3.7" wireframe="true" position="0 1 0" material="" geometry=""></a-box>
        <a-box color="#BBB" width="0.2" height="2" depth="0.6" wireframe="false" position="0 1 1.55" material="" geometry=""></a-box>
        <a-box color="#BBB" width="0.2" height="2" depth="1.1" wireframe="false" position="0 1 -1.3" material="" geometry=""></a-box>
        <a-box color="#BBB" width="0.2" height="0.1" depth="3.7" wireframe="false" position="0 1.95 0" material="" geometry=""></a-box>
      </a-entity>

      <!-- <a-entity>
        <a-box color="#BBB" width="0.5" height="0.8" depth="0.58" wireframe="false" position="0 0.4 0.01"></a-box>
        <a-box color="#F00" width="0.46" height="0.76" depth="0.02" wireframe="false" position="0.00 0.40 -0.29">
          <a-animation attribute="rotation"
            dur="10000"
            fill="forwards"
            from="0 0 0"
            to="0 -90 0"
            repeat="indefinite"></a-animation>
          <a-animation attribute="position"
            dur="10000"
            fill="forwards"
            from="0.0 0.40 -0.29"
            to="0.23 0.40 -0.50"
            repeat="indefinite"></a-animation>
        </a-box>
      </a-entity> -->

      <a-entity>
        <a-box color="#BBB" width="0.5" height="0.8" depth="0.58" wireframe="false" position="0 0.4 0.01" material="" geometry=""></a-box>
        <a-box color="#F00" width="0.46" height="0.76" depth="0.02" wireframe="false" position="0 0.4 -0.29" isopen="false" has-action="" open-door="previous:[object Object]" material="" geometry=""></a-box>
      </a-entity><a-entity position="0 0 -1.908">
        <a-box color="#BBB" width="0.5" height="0.8" depth="0.58" wireframe="false" position="0 0.4 0.01" material="" geometry=""></a-box>
        <a-box color="#F00" width="0.46" height="0.76" depth="0.02" wireframe="false" position="0 0.4 -0.29" isopen="false" has-action="" open-door="previous:[object Object]" material="" geometry=""></a-box>
      </a-entity>
      
    </a-scene>
  

  

</body></html>